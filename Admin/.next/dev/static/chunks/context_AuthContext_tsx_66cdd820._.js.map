{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/randy/Desktop/Luckydraw/Admin/context/AuthContext.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface AuthContextType {\n  isAuthenticated: boolean;\n  logout: () => void;\n  isLoading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    // Check for the token in localStorage\n    const token = localStorage.getItem('sb_admin_token');\n    if (token) {\n      // In a real app, you'd also want to verify the token's expiry with the server\n      setIsAuthenticated(true);\n    }\n    setIsLoading(false);\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem('sb_admin_token');\n    setIsAuthenticated(false);\n    router.push('/login');\n  };\n\n  const value = { isAuthenticated, logout, isLoading };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAWA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;kCAAC;YACR,sCAAsC;YACtC,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,8EAA8E;gBAC9E,mBAAmB;YACrB;YACA,aAAa;QACf;iCAAG,EAAE;IAEL,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,mBAAmB;QACnB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,QAAQ;QAAE;QAAiB;QAAQ;IAAU;IAEnD,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;GAxBgB;;QAGC,kJAAS;;;KAHV;AA0BT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}